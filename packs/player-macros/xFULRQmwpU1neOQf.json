{
  "name": "Hook",
  "type": "script",
  "author": "6cxUP4dSannVjU9o",
  "img": "icons/svg/angel.svg",
  "scope": "global",
  "command": "// Hook: escucha clicks en botones de solicitud de tirada\nHooks.on(\"renderChatMessage\", (message, html) => {\n  html.find(\"button.roll-solicitud\").click(ev => {\n    const actorId = ev.currentTarget.dataset.actorId;\n    const skill = ev.currentTarget.dataset.skill;\n\n    const actor = game.actors.get(actorId);\n    if (!actor) {\n      ui.notifications.error(\"No se encontró el actor para la tirada\");\n      return;\n    }\n\n    // Lanza la tirada desde la sesión del jugador\n    actor.rollSkill(skill, { chatMessage: true });\n  });\n});",
  "folder": null,
  "sort": 0,
  "ownership": {
    "default": 0
  },
  "flags": {
    "exportSource": {
      "world": "vinculosyjur-69b5b203",
      "system": "cosmere-rpg",
      "coreVersion": "12.343",
      "systemVersion": "1.0.1"
    }
  },
  "_id": "xFULRQmwpU1neOQf"
}